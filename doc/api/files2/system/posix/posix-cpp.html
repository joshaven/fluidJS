<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>system.posix</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css"><script language=JavaScript src="../../../javascript/main.js"></script><script language=JavaScript src="../../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="system.posix"></a>system.<wbr>posix</h1><div class=CBody><p>posix functions</p><p>Author: Sebastien Pierre                   <a href="#" onClick="location.href='mai' + 'lto:' + 'seba' + 'stien' + '@' + 'type-' + 'z.org'; return false;" class=LEMail>seba<span style="display: none">.nosp@m.</span>stien<span>@</span>type-<span style="display: none">.nosp@m.</span>z.org</a> Author: Victor Grishchenko</p><p>Creation date:      27-Sep-2008</p><p>Last modification:  10-Aug-2009</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#system.posix" >system.<wbr>posix</a></td><td class=SDescription>posix functions</td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#posix.time" >posix.<wbr>time()</a></td><td class=SDescription>Returns the local UNIX time as an integer, in milliseconds</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#posix.fopen(path,mode)" >posix.<wbr>fopen(path, mode)</a></td><td class=SDescription>Opens the file at the given &lsquo;path&rsquo; using the given &lsquo;mode&rsquo;. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#posix.fread(size,nmemb,fileObj)" >posix.<wbr>fread(size, nmemb, fileObj)</a></td><td class=SDescription>Reads &lsquo;quantity&rsquo; elements of the given &lsquo;size&rsquo; (in bytes) from the given &lsquo;file&rsquo; object, returning a string which may be emty if there is nothing to be read.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#posix.open(name,mode)" >posix.<wbr>open(name, mode)</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#posix.close(file_descriptor)" >posix.<wbr>close(file_descriptor)</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#posix.unlink(path)" >posix.<wbr>unlink(path)</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#posix.socket(domain,type)" >posix.<wbr>socket(domain, type)</a></td><td class=SDescription>Creates a socket: endpoint for communication.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#posix.bind(sockfd,ip)" >posix.<wbr>bind(sockfd, ip)</a></td><td class=SDescription>Assigns an address to a socket.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#posix.listen(sockfd,backlog)" >posix.<wbr>listen(sockfd, backlog)</a></td><td class=SDescription>Prepares socket for incoming connections.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#posix.accept(sockfd)" >posix.<wbr>accept(sockfd)</a></td><td class=SDescription>Creates a new socket for each connection and removes the connection from the listen queue.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#posix.connect(sockfd,ip)" >posix.<wbr>connect(sockfd, ip)</a></td><td class=SDescription>Connects a socket, identified by its file descriptor, to a remote host specified by that host&rsquo;s address in the argument list.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#posix.isDir(path)" >posix.<wbr>isDir(path)</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#posix.isfile(path)" >posix.<wbr>isfile(path)</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#posix.stat(path)" >posix.<wbr>stat(path)</a></td><td class=SDescription></td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.time"></a>posix.<wbr>time()</h3><div class=CBody><p>Returns the local UNIX time as an integer, in milliseconds</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.fopen(path,mode)"></a>posix.<wbr>fopen(path, mode)</h3><div class=CBody><p>Opens the file at the given &lsquo;path&rsquo; using the given &lsquo;mode&rsquo;.&nbsp; Returns a file object, that you should not forget to close.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>path</td><td class=CDLDescription>A string, ie &lsquo;/tmp/myfile.txt&rsquo;</td></tr><tr><td class=CDLEntry>mode</td><td class=CDLDescription>A String, ie &lsquo;w&rsquo;</td></tr></table><h4 class=CHeading>Example</h4><blockquote><pre>var fd = fopen(&quot;/tmp/myfile.txt&quot;, &quot;w&quot;)</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.fread(size,nmemb,fileObj)"></a>posix.<wbr>fread(size, nmemb, fileObj)</h3><div class=CBody><p>Reads &lsquo;quantity&rsquo; elements of the given &lsquo;size&rsquo; (in bytes) from the given &lsquo;file&rsquo; object, returning a string which may be emty if there is nothing to be read.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.open(name,mode)"></a>posix.<wbr>open(name, mode)</h3><div class=CBody><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>filename</td><td class=CDLDescription>String containing the name of the file to be opened.</td></tr><tr><td class=CDLEntry>mode</td><td class=CDLDescription>Flags describing the requested i/o mode for the file.</td></tr></table><h4 class=CHeading>which consists on a combination of one or more of the following flags defined as member constants</h4><p>flag value    opening mode app   (append) Set the stream&rsquo;s position indicator to the end of the stream before each output operation. ate   (at end) Set the stream&rsquo;s position indicator to the end of the stream on opening. binary    (binary) Consider stream as binary rather than text. in    (input) Allow input operations on the stream. out   (output) Allow output operations on the stream. trunc (truncate) Any current content is discarded, assuming a length of zero on opening.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.close(file_descriptor)"></a>posix.<wbr>close(file_descriptor)</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.unlink(path)"></a>posix.<wbr>unlink(path)</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.socket(domain,type)"></a>posix.<wbr>socket(domain, type)</h3><div class=CBody><p>Creates a socket: endpoint for communication.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>domain</td><td class=CDLDescription>An integer, representing the protocol family of the created socket. ie: posix.AF_INET (IPv4), posix.AF_INET6 (IPv6), posix.AF_UNIX (local socket using a file)</td></tr><tr><td class=CDLEntry>type</td><td class=CDLDescription>An integer: posix.SOCK_STREAM (Stream), posix.SOCK_DGRAM (Datagram), posix.SOCK_SEQPACKET (Sequenced Packet), posix.SOCK_RAW (Raw)</td></tr></table><p>(The protocol is inferred from domain &amp; type.)</p><h4 class=CHeading>Returns</h4><p>file descriptor integer</p><h4 class=CHeading>Examples</h4><blockquote><pre>sock = posix.socket(posix.AF_INET, posix.SOCK_STREAM);
sock = posix.socket(posix.AF_INET6, posix.SOCK_STREAM);</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.bind(sockfd,ip)"></a>posix.<wbr>bind(sockfd, ip)</h3><div class=CBody><p>Assigns an address to a socket.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>sockfd</td><td class=CDLDescription>An integer: Socket File Descriptor, representing the socket to perform the bind on.</td></tr><tr><td class=CDLEntry>ip</td><td class=CDLDescription>An object: Contains the IP address (addr) and port number (port)</td></tr></table><p>(addrlen is inferred from the address provided)</p><h4 class=CHeading>Returns</h4><p>0 = success OR -1 = error</p><h4 class=CHeading>Example</h4><blockquote><pre>sockfd = posix.socket(posix.AF_INET, posix.SOCK_STREAM);
posix.bind(sockfd, {addr:&quot;127.0.0.1&quot;,port:7001});</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.listen(sockfd,backlog)"></a>posix.<wbr>listen(sockfd, backlog)</h3><div class=CBody><p>Prepares socket for incoming connections.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>sockfd</td><td class=CDLDescription>An integer: Socket File Descriptor, representing the socket to listen on.</td></tr><tr><td class=CDLEntry>backlog</td><td class=CDLDescription>An integer: Representing the number of pending connections that can be queued up at any one time.</td></tr></table><h4 class=CHeading>Returns</h4><p>undefined</p><h4 class=CHeading>Example</h4><blockquote><pre>sockfd = posix.socket(posix.AF_INET, posix.SOCK_STREAM);
posix.bind(sockfd, {addr:&quot;127.0.0.1&quot;,port:7001});
posix.listen(sockfd, {addr:&quot;127.0.0.1&quot;,port:7001});</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.accept(sockfd)"></a>posix.<wbr>accept(sockfd)</h3><div class=CBody><p>Creates a new socket for each connection and removes the connection from the listen queue.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>sockfd</td><td class=CDLDescription>An integer: Socket File Descriptor, representing the socket to listen on.</td></tr></table><p>Datagram sockets do not require processing by accept() since the receiver may immediately respond to the request using the listening socket.</p><h4 class=CHeading>Returns</h4><p>The new socket descriptor for the accepted connection, or -1 if an error occurs.&nbsp; All further communication with the remote host now occurs via this new socket.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.connect(sockfd,ip)"></a>posix.<wbr>connect(sockfd, ip)</h3><div class=CBody><p>Connects a socket, identified by its file descriptor, to a remote host specified by that host&rsquo;s address in the argument list.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>sockfd</td><td class=CDLDescription>An integer: Socket File Descriptor, representing the socket to listen on.</td></tr><tr><td class=CDLEntry>ip</td><td class=CDLDescription>An object: Contains the IP address (addr) and port number (port)</td></tr></table><h4 class=CHeading>Returns</h4><p>undefined</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.isDir(path)"></a>posix.<wbr>isDir(path)</h3><div class=CBody><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>path</td><td class=CDLDescription>string ie: &lsquo;/tmp&rsquo;</td></tr></table><h4 class=CHeading>Returns</h4><p>Boolean</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.isfile(path)"></a>posix.<wbr>isfile(path)</h3><div class=CBody><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>path</td><td class=CDLDescription>string ie: &lsquo;/tmp/file.txt&rsquo;</td></tr></table><h4 class=CHeading>Returns</h4><p>Boolean</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="posix.stat(path)"></a>posix.<wbr>stat(path)</h3><div class=CBody><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>path</td><td class=CDLDescription>string ie: &lsquo;/tmp/file.txt&rsquo;</td></tr></table><h4 class=CHeading>Returns</h4><p>Object</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>dev_t</td><td class=CDLDescription>ID of device containing file</td></tr><tr><td class=CDLEntry>ino_t</td><td class=CDLDescription>inode number</td></tr><tr><td class=CDLEntry>mode_t</td><td class=CDLDescription>protection</td></tr><tr><td class=CDLEntry>nlink_t</td><td class=CDLDescription>number of hard links</td></tr><tr><td class=CDLEntry>uid_t</td><td class=CDLDescription>user ID of owner</td></tr><tr><td class=CDLEntry>gid_t</td><td class=CDLDescription>group ID of owner</td></tr><tr><td class=CDLEntry>dev_t</td><td class=CDLDescription>device ID (if special file)</td></tr><tr><td class=CDLEntry>off_t</td><td class=CDLDescription>total size, in bytes</td></tr><tr><td class=CDLEntry>blksize_t</td><td class=CDLDescription>blocksize for filesystem I/O</td></tr><tr><td class=CDLEntry>blkcnt_t</td><td class=CDLDescription>number of blocks allocated</td></tr><tr><td class=CDLEntry>time_t</td><td class=CDLDescription>time of last access</td></tr><tr><td class=CDLEntry>time_t</td><td class=CDLDescription>time of last modification</td></tr><tr><td class=CDLEntry>time_t</td><td class=CDLDescription>time of last status change</td></tr></table></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MFile><a href="../../jstest/unit-js.html">jstest.<wbr>Unit()</a></div></div><div class=MEntry><div class=MFile><a href="../../net/http/server/fcgi-cpp.html">net...fcgi.<wbr>FCGI()</a></div></div><div class=MEntry><div class=MFile id=MSelected>system.<wbr>posix</div></div><div class=MEntry><div class=MFile><a href="../shell/shell-cpp.html">system.<wbr>shell</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Index</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MIndex><a href="../../../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Files.html">Files</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Functions.html">Functions</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Files">Files</option><option value="Functions">Functions</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>